
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="Description" content="Ember.js的中文开发者交流平台，提供Ember.js官方网站指南和API的中文翻译，持续关注最近的社区动态，为您提供高质量的Ember.js中文资料。 " />
    <meta name="Keywords" content="Ember.js、Ember、Javascript、Javascript框架、HTML、论坛、博客、中文社区" />
    <title>Ember.js - Ember 1.3.0 and 1.4 Beta Released</title>
    <link rel="shortcut icon" href="/images/favicon.png" />
    <!--[if lte IE 7 ]><link href="/stylesheets/fonts/fontello-ie7.css" media="screen" rel="stylesheet" type="text/css" /><![endif]-->
    <link href="/stylesheets/site.css" media="screen" rel="stylesheet" type="text/css" />
    <link href="/stylesheets/highlight.css" media="screen" rel="stylesheet" type="text/css" />
    <link href="/stylesheets/emberjs-cn.css" media="screen" rel="stylesheet" type="text/css" />
    <link href="http://emberjs.cn/blog/feed.xml" rel="alternate" type="application/atom+xml" title="Ember.js CN - 博客" />

    <script type="text/javascript">
      var _gaq = _gaq || [];
      var pluginUrl = '//www.google-analytics.com/plugins/ga/inpage_linkid.js';
      _gaq.push(['_require', 'inpage_linkid', pluginUrl]);
      _gaq.push(['_setAccount', 'UA-38578402-1']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
    </script>

<!--[if lt IE 9]>
    <script type="text/javascript" src="/javascripts/common-old-ie.js"></script>
<![endif]-->
<!--[if gte IE 9]><!-->
    <script type="text/javascript" src="/javascripts/common-modern.js"></script>
<!--<![endif]-->

    
  </head>

  <body class="blog blog_2014 blog_2014_01 blog_2014_01_06 blog_2014_01_06_ember-1-3-0-and-ember-1-4-0-beta-released">
    <div id="header">
      <div id="wrapper">
        <a id="logo" href="/">&nbsp;</a>
        <ul id="nav">
          <li><a href="/guides">指南</a></li>
          <li>
            <a target="_blank" href="http://discuss.emberjs.cn">论坛</a>
          </li>
          <li class="active"><a href="/blog">博客</a></li>
          <li>
            <a target="_blank" href="http://devdocs.io/ember/">API文档</a>
          </li>
          <li><a href="/builds">构建</a></li>
        </ul>
        <div id="github">
          <a href="https://github.com/emberjs-cn"><img src="/images/fork-us.png">Fork Us!</a>
          <a href="https://github.com/emberjs/ember.js"><img src="/images/fork-us.png">Fork Ember!</a>
        </div>
      </div>
    </div>

    <div id="content-wrapper">
      
      
        <div id="sidebar">
          <ol id='toc-list'>
  
    <li class='level-1'>
      <a href="/blog/tags/recent-posts.html">最近文章</a>
      <ol style="display:block">
        
          <li class='level-3'><a href="/blog/2014/02/17/ember-js-cn-one-year-old.html">EmberJS.CN一周岁</a></li>
        
          <li class='level-3'><a href="/blog/2014/02/12/ember-1-4-0-and-ember-1-5-0-beta-released.html">Ember 1.4.0和1.5 Beta发布</a></li>
        
          <li class='level-3'><a href="/blog/2014/02/07/ember-security-releases.html">安全性发布 - Ember 1.2.2, and 1.3.2</a></li>
        
          <li class='level-3'><a href="/blog/2014/01/29/using-ember-simple-auth.html">使用Ember.SimpleAuth实现用户登录逻辑</a></li>
        
          <li class='level-3'><a href="/blog/2014/01/28/how-to-use-ember-dev-to-develop-ember-packages.html">如何使用ember-dev来开发Ember包</a></li>
        
          <li class='level-3'><a href="/blog/2014/01/14/ember-security-releases.html">安全性发布 - Ember 1.0.1, 1.1.3, 1.2.1, and 1.3.1</a></li>
        
          <li class='level-3'><a href="/blog/2014/01/11/ember-data-1-0-0-beta-5.html">Ember Data 1.0.0.beta.5发布</a></li>
        
          <li class='level-3'><a href="/blog/2014/01/06/ember-1-3-0-and-ember-1-4-0-beta-released.html">Ember 1.3.0 and 1.4 Beta Released</a></li>
        
          <li class='level-3'><a href="/blog/2013/12/05/finish-translations.html">完成Ember指南中文翻译</a></li>
        
          <li class='level-3'><a href="/blog/2013/08/31/ember-1-0-released.html">Ember 1.0 Released</a></li>
        
          <li class='level-3'><a href="/blog/2013/08/28/ember-1-0-rc8.html">Ember 1.0 RC8发布</a></li>
        
          <li class='level-3'><a href="/blog/2013/08/14/ember-1-0-rc7.html">Ember.js 1.0 RC7发布</a></li>
        
          <li class='level-3'><a href="/blog/2013/08/14/setup-an-ember-app-on-windows-with-yeoman.html">Windows下Ember应用开发环境搭建</a></li>
        
          <li class='level-3'><a href="/blog/2013/07/06/ember-js-1-0-0-rc6.html">Ember.js 1.0.0-rc6发布</a></li>
        
          <li class='level-3'><a href="/blog/2013/06/01/ember-js-1-0-0-rc5.html">Ember.js 1.0.0-rc5发布</a></li>
        
          <li class='level-3'><a href="/blog/2013/04/25/two-different-ways-for-users-management-1.html">两种方式实现用户管理(一)</a></li>
        
          <li class='level-3'><a href="/blog/2013/04/25/two-different-ways-for-users-management-2.html">两种方式实现用户管理(二)</a></li>
        
          <li class='level-3'><a href="/blog/2013/04/23/ember-js-1-0-0-rc3.html">Ember.js 1.0.0-rc3发布</a></li>
        
          <li class='level-3'><a href="/blog/2013/04/18/how-to-load-the-current-user.html">如何获取应用当前登录的用户信息</a></li>
        
          <li class='level-3'><a href="/blog/2013/03/31/ember-baby-steps.html">Ember入门实践</a></li>
        
          <li class='level-3'><a href="/blog/2013/03/29/ember-js-1-0-rc2-released.html">Ember.js 1.0.0-rc2发布</a></li>
        
          <li class='level-3'><a href="/blog/2013/03/27/changed-the-directories-of-guides.html">指南目录结构调整</a></li>
        
          <li class='level-3'><a href="/blog/2013/03/11/ember-js-1-0-rc2.html">Ember.js准备发布RC2了</a></li>
        
          <li class='level-3'><a href="/blog/2013/03/06/domain-name-emberjs-cn-enabled.html">Emberjs.cn域名正式启用</a></li>
        
          <li class='level-3'><a href="/blog/2013/02/19/why-discourse-uses-ember.html">为什么Discourse选择Ember.JS</a></li>
        
          <li class='level-3'><a href="/blog/2013/02/18/come-into-being.html">EmberJS.CN之诞生</a></li>
        
      </ol>
    </li>
  
  
    <li class='level-1'>
      <a href="/blog/tags/releases.html">发布说明</a>
      <ol style="display:block">
        
          <li class='level-3'><a href="/blog/2014/02/12/ember-1-4-0-and-ember-1-5-0-beta-released.html">Ember 1.4.0和1.5 Beta发布</a></li>
        
          <li class='level-3'><a href="/blog/2014/02/07/ember-security-releases.html">安全性发布 - Ember 1.2.2, and 1.3.2</a></li>
        
          <li class='level-3'><a href="/blog/2014/01/14/ember-security-releases.html">安全性发布 - Ember 1.0.1, 1.1.3, 1.2.1, and 1.3.1</a></li>
        
          <li class='level-3'><a href="/blog/2014/01/11/ember-data-1-0-0-beta-5.html">Ember Data 1.0.0.beta.5发布</a></li>
        
          <li class='level-3'><a href="/blog/2014/01/06/ember-1-3-0-and-ember-1-4-0-beta-released.html">Ember 1.3.0 and 1.4 Beta Released</a></li>
        
          <li class='level-3'><a href="/blog/2013/08/31/ember-1-0-released.html">Ember 1.0 Released</a></li>
        
          <li class='level-3'><a href="/blog/2013/08/28/ember-1-0-rc8.html">Ember 1.0 RC8发布</a></li>
        
          <li class='level-3'><a href="/blog/2013/08/14/ember-1-0-rc7.html">Ember.js 1.0 RC7发布</a></li>
        
          <li class='level-3'><a href="/blog/2013/07/06/ember-js-1-0-0-rc6.html">Ember.js 1.0.0-rc6发布</a></li>
        
          <li class='level-3'><a href="/blog/2013/06/01/ember-js-1-0-0-rc5.html">Ember.js 1.0.0-rc5发布</a></li>
        
          <li class='level-3'><a href="/blog/2013/04/23/ember-js-1-0-0-rc3.html">Ember.js 1.0.0-rc3发布</a></li>
        
          <li class='level-3'><a href="/blog/2013/03/29/ember-js-1-0-rc2-released.html">Ember.js 1.0.0-rc2发布</a></li>
        
          <li class='level-3'><a href="/blog/2013/03/27/changed-the-directories-of-guides.html">指南目录结构调整</a></li>
        
          <li class='level-3'><a href="/blog/2013/03/11/ember-js-1-0-rc2.html">Ember.js准备发布RC2了</a></li>
        
      </ol>
    </li>
  
  
    <li class='level-1'>
      <a href="/blog/tags/weekly.html">Ember.js周报</a>
      <ol style="display:block">
        
          <li class='level-3'><a href="/blog/2013/06/14/ember-js-weekly.html">第七期周报</a></li>
        
          <li class='level-3'><a href="/blog/2013/05/30/ember-js-weekly.html">第六期周报</a></li>
        
          <li class='level-3'><a href="/blog/2013/05/24/ember-js-weekly.html">第五期周报</a></li>
        
          <li class='level-3'><a href="/blog/2013/05/17/ember-js-weekly.html">第四期周报</a></li>
        
          <li class='level-3'><a href="/blog/2013/05/09/ember-js-weekly.html">第三期周报</a></li>
        
          <li class='level-3'><a href="/blog/2013/05/02/ember-js-weekly.html">第二期周报</a></li>
        
          <li class='level-3'><a href="/blog/2013/04/25/ember-js-weekly.html">第一期周报</a></li>
        
      </ol>
    </li>
  
</ol>

          <div id="back-to-top"><a id="back-top-top" href="#">&#11014; 返回顶部</a></div>
        </div>
      
      <div id="content" class="has-sidebar">
          <article class="blog-post">
    <h1>Ember 1.3.0 and 1.4 Beta Released</h1>
    
      <h3 class="blog-post-author">作者： Robert Jackson &ndash; <time>Jan 06, 2014</time></h3>
    

    <hr>

    <p>We are pleased to announce that both Ember.js 1.3.0 and the first beta in the 1.4 series
have just been released. This comes as the third cycle of our six-week release
process that began just after 1.0 was released.</p>
<h3 class='anchorable-toc' id='toc_new-in-1-3'>New in 1.3</h3><h4 class='anchorable-toc' id='toc_non-array-dependencies-for-reducecomputed'>Non-array Dependencies for ReduceComputed</h4>
<p>Generally, using <code>reduceComputed</code> is all about efficiently computing the resulting value, but
occasionally you might need to recompute every time. It is now possible to instruct
<code>reduceComputed</code> to completely recompute when an item is added/removed (instead of calling
the <code>addedItem</code> and <code>removedItem</code> callbacks).</p>

<p>This is done by using either non-array dependent keys or adding <code>.[]</code> to an array dependency.</p>

<p>Take a look at the following example:</p>
<div class="highlight javascript "><div class="ribbon"></div><div class="scroller"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
<strong>10</strong>
11
12
13
14
15
16
</pre></td>
  <td class="code"><pre>Ember.Object.extend({
  <span class="comment">// When `string` is changed, `computed` is completely recomputed.</span>
  <span class="key">string</span>: <span class="string"><span class="delimiter">'</span><span class="content">a string</span><span class="delimiter">'</span></span>,

  <span class="comment">// When an item is added to `array`, `addedItem` is called.</span>
  <span class="key">array</span>: [],

  <span class="comment">// When an item is added to `anotherArray`, `computed` is completely</span>
  <span class="comment">// recomputed.</span>
  <span class="key">anotherArray</span>: [],

  <span class="key">computed</span>: Ember.reduceComputed(<span class="string"><span class="delimiter">'</span><span class="content">string</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">'</span><span class="content">array</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">'</span><span class="content">anotherArray.[]</span><span class="delimiter">'</span></span>, {
    <span class="key">addedItem</span>: addedItemCallback,
    <span class="key">removedItem</span>: removedItemCallback
  })
});
</pre></td>
</tr></table>
</div></div><h4 class='anchorable-toc' id='toc_testing'>Testing</h4>
<p>Testability of Ember applications is an ongoing priority, and the 1.3 release
contains a number of updates that result in a dramatic improvement.</p>
<h5 class='anchorable-toc' id='toc_custom-code-wait-code-hooks'>Custom <code>wait()</code> Hooks</h5>
<p>You can now specify custom hooks to notify the asynchronous test helpers when all
async actions have completed. Under Ember 1.2 if you need to wait for an IndexDB
action, the default <code>wait</code> implementation would not wait until that
action finished. Now you can simply register your own hook that will instruct wait
that it is truly time to continue.</p>

<p>For example:</p>
<div class="highlight javascript "><div class="ribbon"></div><div class="scroller"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
</pre></td>
  <td class="code"><pre>Ember.Test.registerWaiter(<span class="keyword">function</span>() {
  <span class="keyword">return</span> hasPendingTransactions() == <span class="integer">0</span>;
});
</pre></td>
</tr></table>
</div></div>
<p>This instructs the <code>wait</code> helper that the async actions are not finished until
<code>hasPendingTransactions</code> is zero.</p>

<p>You can find more details <a href="https://github.com/emberjs/ember.js/pull/3433">here</a>.</p>
<h5 class='anchorable-toc' id='toc_lazy-routing'>Lazy Routing</h5>
<p>Under Ember.js 1.2 routing is started as soon as you boot your application and <em>before</em>
you call <code>visit</code>. This results in duplicate routing which slows down your tests and also
potentially causes your tests to be less isolated.</p>

<p>Under Ember.js 1.3 routing isn&#39;t started until you call <code>visit</code> for the first time. This
provides a couple of improvements to the way you test:</p>

<ul>
<li>You do not need to call <code>App.advanceReadiness()</code> in your test setup since the application
is automatically in a deferred state until calling <code>visit</code>.</li>
<li><code>App.reset()</code> now leaves the application in the same state as <code>App.setupForTesting()</code> (a
deferred state).</li>
</ul>

<p>You can find more details <a href="https://github.com/emberjs/ember.js/pull/3695">here</a>.</p>
<h5 class='anchorable-toc' id='toc_stubbable-code-controllers-code-property'>Stubbable <code>controllers</code> Property</h5>
<p>Prior to Ember 1.3 you could not easily stub out any dependencies specified with <code>needs</code>.
Now you can unit test controllers and stub their dependencies all within
<code>TheControllerClass.create()</code> instead of having to use a container, register stubbed
dependencies, and instantiate the controller via <code>container.lookup()</code>.</p>

<p>Simplified example:</p>
<div class="highlight javascript "><div class="ribbon"></div><div class="scroller"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
<strong>10</strong>
11
12
</pre></td>
  <td class="code"><pre><span class="keyword">var</span> BrotherController = Ember.Controller.extend({
  <span class="key">needs</span>: <span class="string"><span class="delimiter">'</span><span class="content">sister</span><span class="delimiter">'</span></span>,
  <span class="key">foo</span>: Ember.computed.alias(<span class="string"><span class="delimiter">'</span><span class="content">controllers.sister.foo</span><span class="delimiter">'</span></span>)
});

<span class="keyword">var</span> broController = BrotherController.create({
  <span class="key">controllers</span>: {
    <span class="key">sister</span>: { <span class="key">foo</span>: <span class="integer">5</span> }
  }
});

equal(broController.get(<span class="string"><span class="delimiter">'</span><span class="content">foo</span><span class="delimiter">'</span></span>), <span class="integer">5</span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">`needs` dependencies can be stubbed</span><span class="delimiter">&quot;</span></span>);
</pre></td>
</tr></table>
</div></div>
<p>Previously, specifying <code>controllers</code> to <code>BrotherController</code> would have resulted in an error,
and now under Ember.js 1.3 this works as expected.</p>
<h4 class='anchorable-toc' id='toc_promise-improvements'>Promise Improvements</h4>
<p>Ember.js 1.3 has updated to <code>RSVP</code> 3.0.3 which brings considerable performance improvements, a number
of new features, and significantly improved documentation coverage.</p>

<p><code>RSVP</code> has added a number of features that allow external tooling to be able to inspect and track the labels, states, and
values of promises. These improvements will be extremely useful when used with the next major
version of the <a href="https://chrome.google.com/webstore/detail/ember-inspector/bmdblncegkenkacieihfhpjfppoconhi">Ember Inspector</a>.
Which will allow you to see a tree of promises and inspect their names, state, and fulfilled/rejected values.</p>

<p><code>RSVP</code> added a number of additional methods to <code>Promise</code>:</p>

<ul>
<li><code>Promise.cast</code> - Coerces the given argument into a promise, or returns the argument if it is
already a promise.</li>
<li><code>Promise.catch</code> - <code>catch</code> is essentially syntactic sugar for <code>then(undefined, onRejection)</code> which
makes it the same as the <code>catch</code> block of a <code>try</code>/<code>catch</code> statement.</li>
<li><code>Promise.finally</code> - The callback provided to <code>Promise.finally</code> will be invoked regardless of the
promises fate (both fulfilled and rejected promises). This is essentially similar to native
<code>try</code>/<code>catch</code>/<code>finally</code> statements.</li>
<li><code>Promise.race</code> - Will return a new promise which will be settled with the value of
the first promise that settles. In other words: given an array of promises <code>Promise.race</code>
will return the value from the first argument that settles (like the winner in a &quot;race&quot;).</li>
</ul>

<p>Please review <a href="/api/modules/RSVP.html">the documentation</a> for more information.</p>
<h4 class='anchorable-toc' id='toc_other-improvements'>Other Improvements</h4>
<p>As usual, there are a ton of bug fixes and small improvements in this
release. You can see a list of all the changes in the CHANGELOG:</p>

<ul>
<li><a href="https://github.com/emberjs/ember.js/blob/v1.3.0/CHANGELOG.md">Ember.js 1.3.0 CHANGELOG</a></li>
<li><a href="https://github.com/emberjs/ember.js/blob/v1.4.0-beta.1/CHANGELOG.md">Ember.js 1.4.0 beta 1 CHANGELOG</a></li>
</ul>


    <hr>

    <div id="disqus_thread"></div> 
    <script type="text/javascript">
      /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
      var disqus_shortname = 'emberjs-cn'; // required: replace example with your forum shortname

      /* * * DON'T EDIT BELOW THIS LINE * * */
      (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
      })();
    </script>
    <noscript><a href="http://disqus.com/?ref_noscript">基于Disqus的评论需要启用Javascript</a></noscript>
    <a href="http://disqus.com" class="dsq-brlink">博客评论基于<span class="logo-disqus">Disqus</span></a>
  </article>

      </div>
    </div>

    <div id="footer">
      <div id="footer-wrapper">
        <div class="info">&copy; 2014 Emberjs.CN <br/>Design by <a href="http://www.heropixel.com">HeroPixel</a></div>
        <div class="statement"><b>声明：</b>本站的文章可以随意在网上转载，但必须注明原文出处！</div>
        <div class="links">
          <a href="http://weibo.com/embercn"><img src="/images/weibo.png"/></a>
          <a href="http://emberjs.cn/blog/feed.xml"><img src="/images/feed.png"/></a>
        </div>
      </div>
    </div>

    <script type="text/javascript">
      var _bdhmProtocol = (("https:" == document.location.protocol) ? " https://" : " http://");
      document.write(unescape("%3Cscript src='" + _bdhmProtocol + "hm.baidu.com/h.js%3F0b0fcec01b06cc76e274f7b21f4766c4' type='text/javascript'%3E%3C/script%3E"));

      $(function() {
        $('a[href="http://tongji.baidu.com/hm-web/welcome/ico?s=0b0fcec01b06cc76e274f7b21f4766c4"]').hide();
      });
    </script>

  </body>
</html>
