

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="Description" content="Ember.js的中文开发者交流平台，提供Ember.js官方网站指南和API的中文翻译，持续关注最近的社区动态，为您提供高质量的Ember.js中文资料。 " />
    <meta name="Keywords" content="Ember.js、Ember、Javascript、Javascript框架、HTML、论坛、博客、中文社区" />
    <title>Ember.js - 单元测试</title>
    <meta property="st:title" content="单元测试" />
    <link rel="shortcut icon" href="/images/favicon.png" />
    <!--[if lte IE 7 ]><link href="/stylesheets/fonts/fontello-ie7.css" media="screen" rel="stylesheet" type="text/css" /><![endif]-->
    <link href="/stylesheets/site.css" media="screen" rel="stylesheet" type="text/css" />
    <link href="/stylesheets/emberjs-cn.css" media="screen" rel="stylesheet" type="text/css" />
    <link href="http://emberjs.cn/blog/feed.xml" rel="alternate" type="application/atom+xml" title="Ember.js CN - 博客" />

    
  </head>

  <body class="bilingual_guides bilingual_guides_testing bilingual_guides_testing_unit bilingual_guides_testing_unit_index">
    <div id="header">
      <div id="wrapper">
        <a id="logo" href="/">&nbsp;</a>
        <ul id="nav">
          <li><a href="/guides">指南</a></li>
          <li>
            <a target="_blank" href="http://discuss.emberjs.cn">论坛</a>
          </li>
          <li><a href="/blog">博客</a></li>
          <li>
            <a target="_blank" href="http://devdocs.io/ember/">API文档</a>
          </li>
          <li><a href="/builds">构建</a></li>
        </ul>
        <div id="github">
          <a href="https://github.com/emberjs-cn"><img src="/images/fork-us.png">Fork Us!</a>
          <a href="https://github.com/emberjs/ember.js"><img src="/images/fork-us.png">Fork Ember!</a>
        </div>
      </div>
    </div>

    <div id="content-wrapper">
      
      
        <div id="sidebar">
          
    <ol id="toc-list">
          <li class="level-1">
            <a href="/bilingual_guides/getting-started">入门指南</a>
            <ol>
        
            <li class="level-3">
              <a href="/bilingual_guides/getting-started">介绍</a>
            </li>
          
            <li class="level-3">
              <a href="/bilingual_guides/getting-started/planning-the-application">应用规划</a>
            </li>
          
            <li class="level-3">
              <a href="/bilingual_guides/getting-started/creating-a-static-mockup">创建静态页面</a>
            </li>
          
            <li class="level-3">
              <a href="/bilingual_guides/getting-started/obtaining-emberjs-and-dependencies">获取Ember.js和相应依赖</a>
            </li>
          
            <li class="level-3">
              <a href="/bilingual_guides/getting-started/adding-a-route-and-template">添加第一个路由与模板</a>
            </li>
          
            <li class="level-3">
              <a href="/bilingual_guides/getting-started/modeling-data">建立模型</a>
            </li>
          
            <li class="level-3">
              <a href="/bilingual_guides/getting-started/using-fixtures">使用静态数据</a>
            </li>
          
            <li class="level-3">
              <a href="/bilingual_guides/getting-started/displaying-model-data">显示模型数据</a>
            </li>
          
            <li class="level-3">
              <a href="/bilingual_guides/getting-started/displaying-a-models-completeness">显示模型的完成状态</a>
            </li>
          
            <li class="level-3">
              <a href="/bilingual_guides/getting-started/creating-a-new-model">创建新的模型实例</a>
            </li>
          
            <li class="level-3">
              <a href="/bilingual_guides/getting-started/marking-a-model-as-complete-incomplete">标记模型为完成或未完成</a>
            </li>
          
            <li class="level-3">
              <a href="/bilingual_guides/getting-started/displaying-the-number-of-incomplete-todos">显示未完成待办事项的数量</a>
            </li>
          
            <li class="level-3">
              <a href="/bilingual_guides/getting-started/toggle-todo-editing-state">切换显示和编辑状态</a>
            </li>
          
            <li class="level-3">
              <a href="/bilingual_guides/getting-started/accepting-edits">接受修改</a>
            </li>
          
            <li class="level-3">
              <a href="/bilingual_guides/getting-started/deleting-todos">删除模型</a>
            </li>
          
            <li class="level-3">
              <a href="/bilingual_guides/getting-started/adding-child-routes">添加子路由</a>
            </li>
          
            <li class="level-3">
              <a href="/bilingual_guides/getting-started/show-only-incomplete-todos">显示未完成待办事项</a>
            </li>
          
            <li class="level-3">
              <a href="/bilingual_guides/getting-started/show-only-complete-todos">显示已完成待办事项</a>
            </li>
          
            <li class="level-3">
              <a href="/bilingual_guides/getting-started/show-all-todos-again">显示所有待办事项</a>
            </li>
          
            <li class="level-3">
              <a href="/bilingual_guides/getting-started/display-a-button-to-remove-completed-todos">添加移除所有已完成待办事项的按钮</a>
            </li>
          
            <li class="level-3">
              <a href="/bilingual_guides/getting-started/show-when-all-todos-are-complete">提示所有待办事项已完成</a>
            </li>
          
            <li class="level-3">
              <a href="/bilingual_guides/getting-started/toggle-all-todos">切换已完成和未完成待办事项</a>
            </li>
          
            <li class="level-3">
              <a href="/bilingual_guides/getting-started/using-other-adapters">更换FixtureAdapter</a>
            </li>
          </ol></li>
          <li class="level-1">
            <a href="/bilingual_guides/getting-ember">获取Ember</a>
            <ol>
        
            <li class="level-3">
              <a href="/bilingual_guides/getting-ember">获取Ember</a>
            </li>
          </ol></li>
          <li class="level-1">
            <a href="/bilingual_guides/concepts/core-concepts">概念</a>
            <ol>
        
            <li class="level-3">
              <a href="/bilingual_guides/concepts/core-concepts">核心概念</a>
            </li>
          
            <li class="level-3">
              <a href="/bilingual_guides/concepts/naming-conventions">命名惯例</a>
            </li>
          </ol></li>
          <li class="level-1">
            <a href="/bilingual_guides/object-model/classes-and-instances">对象模型</a>
            <ol>
        
            <li class="level-3">
              <a href="/bilingual_guides/object-model/classes-and-instances">类与实例</a>
            </li>
          
            <li class="level-3">
              <a href="/bilingual_guides/object-model/computed-properties">计算属性</a>
            </li>
          
            <li class="level-3">
              <a href="/bilingual_guides/object-model/computed-properties-and-aggregate-data">计算属性和带@each的集合数据</a>
            </li>
          
            <li class="level-3">
              <a href="/bilingual_guides/object-model/observers">观察器</a>
            </li>
          
            <li class="level-3">
              <a href="/bilingual_guides/object-model/bindings">绑定</a>
            </li>
          
            <li class="level-3">
              <a href="/bilingual_guides/object-model/reopening-classes-and-instances">重新打开类和实例</a>
            </li>
          
            <li class="level-3">
              <a href="/bilingual_guides/object-model/what-do-i-use-when">绑定，观察器，计算属性：如何选择？</a>
            </li>
          </ol></li>
          <li class="level-1">
            <a href="/bilingual_guides/application">应用</a>
            <ol>
        
            <li class="level-3">
              <a href="/bilingual_guides/application">介绍</a>
            </li>
          </ol></li>
          <li class="level-1">
            <a href="/bilingual_guides/templates/the-application-template">模板</a>
            <ol>
        
            <li class="level-3">
              <a href="/bilingual_guides/templates/the-application-template">应用模板</a>
            </li>
          
            <li class="level-3">
              <a href="/bilingual_guides/templates/handlebars-basics">Handlebars基础</a>
            </li>
          
            <li class="level-3">
              <a href="/bilingual_guides/templates/conditionals">条件表达式</a>
            </li>
          
            <li class="level-3">
              <a href="/bilingual_guides/templates/displaying-a-list-of-items">显示项目列表</a>
            </li>
          
            <li class="level-3">
              <a href="/bilingual_guides/templates/changing-scope">切换作用域</a>
            </li>
          
            <li class="level-3">
              <a href="/bilingual_guides/templates/binding-element-attributes">绑定元素属性</a>
            </li>
          
            <li class="level-3">
              <a href="/bilingual_guides/templates/binding-element-class-names">绑定元素类名称</a>
            </li>
          
            <li class="level-3">
              <a href="/bilingual_guides/templates/links">链接</a>
            </li>
          
            <li class="level-3">
              <a href="/bilingual_guides/templates/actions">操作</a>
            </li>
          
            <li class="level-3">
              <a href="/bilingual_guides/templates/input-helpers">输入助手</a>
            </li>
          
            <li class="level-3">
              <a href="/bilingual_guides/templates/development-helpers">开发助手</a>
            </li>
          
            <li class="level-3">
              <a href="/bilingual_guides/templates/rendering-with-helpers">用助手来渲染</a>
            </li>
          
            <li class="level-3">
              <a href="/bilingual_guides/templates/writing-helpers">编写助手方法</a>
            </li>
          </ol></li>
          <li class="level-1">
            <a href="/bilingual_guides/routing">路由</a>
            <ol>
        
            <li class="level-3">
              <a href="/bilingual_guides/routing">介绍</a>
            </li>
          
            <li class="level-3">
              <a href="/bilingual_guides/routing/defining-your-routes">定义路由</a>
            </li>
          
            <li class="level-3">
              <a href="/bilingual_guides/routing/generated-objects">生成的对象</a>
            </li>
          
            <li class="level-3">
              <a href="/bilingual_guides/routing/specifying-a-routes-model">指定路由的模型</a>
            </li>
          
            <li class="level-3">
              <a href="/bilingual_guides/routing/setting-up-a-controller">设置控制器</a>
            </li>
          
            <li class="level-3">
              <a href="/bilingual_guides/routing/rendering-a-template">渲染模板</a>
            </li>
          
            <li class="level-3">
              <a href="/bilingual_guides/routing/redirection">重定向</a>
            </li>
          
            <li class="level-3">
              <a href="/bilingual_guides/routing/specifying-the-location-api">指定地址API</a>
            </li>
          
            <li class="level-3">
              <a href="/bilingual_guides/routing/query-params">查询参数</a>
            </li>
          
            <li class="level-3">
              <a href="/bilingual_guides/routing/asynchronous-routing">异步路由</a>
            </li>
          
            <li class="level-3">
              <a href="/bilingual_guides/routing/loading-and-error-substates">加载中/错误子状态</a>
            </li>
          
            <li class="level-3">
              <a href="/bilingual_guides/routing/preventing-and-retrying-transitions">阻止和重试过渡</a>
            </li>
          </ol></li>
          <li class="level-1">
            <a href="/bilingual_guides/components">组件</a>
            <ol>
        
            <li class="level-3">
              <a href="/bilingual_guides/components">介绍</a>
            </li>
          
            <li class="level-3">
              <a href="/bilingual_guides/components/defining-a-component">定义组件</a>
            </li>
          
            <li class="level-3">
              <a href="/bilingual_guides/components/passing-properties-to-a-component">传递属性</a>
            </li>
          
            <li class="level-3">
              <a href="/bilingual_guides/components/wrapping-content-in-a-component">包裹内容</a>
            </li>
          
            <li class="level-3">
              <a href="/bilingual_guides/components/customizing-a-components-element">自定义组件元素</a>
            </li>
          
            <li class="level-3">
              <a href="/bilingual_guides/components/handling-user-interaction-with-actions">使用Action处理用户交互</a>
            </li>
          
            <li class="level-3">
              <a href="/bilingual_guides/components/sending-actions-from-components-to-your-application">从组件发送操作给应用</a>
            </li>
          </ol></li>
          <li class="level-1">
            <a href="/bilingual_guides/controllers">控制器</a>
            <ol>
        
            <li class="level-3">
              <a href="/bilingual_guides/controllers">介绍</a>
            </li>
          
            <li class="level-3">
              <a href="/bilingual_guides/controllers/representing-a-single-model-with-objectcontroller">代表单一模型</a>
            </li>
          
            <li class="level-3">
              <a href="/bilingual_guides/controllers/representing-multiple-models-with-arraycontroller">代表多模型</a>
            </li>
          
            <li class="level-3">
              <a href="/bilingual_guides/controllers/dependencies-between-controllers">管理控制器间的依赖</a>
            </li>
          </ol></li>
          <li class="level-1">
            <a href="/bilingual_guides/models">模型</a>
            <ol>
        
            <li class="level-3">
              <a href="/bilingual_guides/models">介绍</a>
            </li>
          
            <li class="level-3">
              <a href="/bilingual_guides/models/defining-models">定义模型</a>
            </li>
          
            <li class="level-3">
              <a href="/bilingual_guides/models/creating-and-deleting-records">创建和删除记录</a>
            </li>
          
            <li class="level-3">
              <a href="/bilingual_guides/models/pushing-records-into-the-store">将记录推入仓库</a>
            </li>
          
            <li class="level-3">
              <a href="/bilingual_guides/models/persisting-records">持久化记录</a>
            </li>
          
            <li class="level-3">
              <a href="/bilingual_guides/models/finding-records">查询记录</a>
            </li>
          
            <li class="level-3">
              <a href="/bilingual_guides/models/working-with-records">使用记录</a>
            </li>
          
            <li class="level-3">
              <a href="/bilingual_guides/models/the-fixture-adapter">使用Fixture</a>
            </li>
          
            <li class="level-3">
              <a href="/bilingual_guides/models/connecting-to-an-http-server">连接HTTP服务器</a>
            </li>
          
            <li class="level-3">
              <a href="/bilingual_guides/models/handling-metadata">处理元数据</a>
            </li>
          
            <li class="level-3">
              <a href="/bilingual_guides/models/customizing-adapters">自定义适配器</a>
            </li>
          
            <li class="level-3">
              <a href="/bilingual_guides/models/frequently-asked-questions">常见问题</a>
            </li>
          </ol></li>
          <li class="level-1">
            <a href="/bilingual_guides/views">视图</a>
            <ol>
        
            <li class="level-3">
              <a href="/bilingual_guides/views">介绍</a>
            </li>
          
            <li class="level-3">
              <a href="/bilingual_guides/views/defining-a-view">定义视图</a>
            </li>
          
            <li class="level-3">
              <a href="/bilingual_guides/views/handling-events">处理事件</a>
            </li>
          
            <li class="level-3">
              <a href="/bilingual_guides/views/inserting-views-in-templates">在模板中插入视图</a>
            </li>
          
            <li class="level-3">
              <a href="/bilingual_guides/views/adding-layouts-to-views">为视图添加布局</a>
            </li>
          
            <li class="level-3">
              <a href="/bilingual_guides/views/customizing-a-views-element">自定义视图元素</a>
            </li>
          
            <li class="level-3">
              <a href="/bilingual_guides/views/built-in-views">内置视图</a>
            </li>
          
            <li class="level-3">
              <a href="/bilingual_guides/views/manually-managing-view-hierarchy">手动管理视图层级</a>
            </li>
          </ol></li>
          <li class="level-1">
            <a href="/bilingual_guides/enumerables">枚举</a>
            <ol>
        
            <li class="level-3">
              <a href="/bilingual_guides/enumerables">介绍</a>
            </li>
          </ol></li>
          <li class="level-1 selected">
            <a href="/bilingual_guides/testing">测试</a>
            <ol class='selected'>
        
            <li class="level-3">
              <a href="/bilingual_guides/testing">介绍</a>
            </li>
          
            <li class="level-3">
              <a href="/bilingual_guides/testing/integration">集成测试</a>
            </li>
          
            <li class="level-3">
              <a href="/bilingual_guides/testing/test-helpers">测试助手</a>
            </li>
          
            <li class="level-3">
              <a href="/bilingual_guides/testing/testing-user-interaction">测试用户交互</a>
            </li>
          
            <li class="level-3 sub-selected">
              <a href="/bilingual_guides/testing/unit">单元测试</a>
            </li>
          
            <li class="level-3">
              <a href="/bilingual_guides/testing/unit-testing-basics">单元测试基础</a>
            </li>
          
            <li class="level-3">
              <a href="/bilingual_guides/testing/testing-components">测试组件</a>
            </li>
          
            <li class="level-3">
              <a href="/bilingual_guides/testing/testing-controllers">测试控制器</a>
            </li>
          
            <li class="level-3">
              <a href="/bilingual_guides/testing/testing-routes">测试路由</a>
            </li>
          
            <li class="level-3">
              <a href="/bilingual_guides/testing/testing-models">测试模型</a>
            </li>
          
            <li class="level-3">
              <a href="/bilingual_guides/testing/test-runners">自动化测试</a>
            </li>
          </ol></li>
          <li class="level-1">
            <a href="/bilingual_guides/configuring-ember/disabling-prototype-extensions">配置Ember.js</a>
            <ol>
        
            <li class="level-3">
              <a href="/bilingual_guides/configuring-ember/disabling-prototype-extensions">禁用基本类型扩展</a>
            </li>
          
            <li class="level-3">
              <a href="/bilingual_guides/configuring-ember/embedding-applications">嵌入式应用</a>
            </li>
          
            <li class="level-3">
              <a href="/bilingual_guides/configuring-ember/feature-flags">特性标识</a>
            </li>
          </ol></li>
          <li class="level-1">
            <a href="/bilingual_guides/cookbook">Cookbook</a>
            <ol>
        
            <li class="level-3">
              <a href="/bilingual_guides/cookbook">简介</a>
            </li>
          
            <li class="level-3">
              <a href="/bilingual_guides/cookbook/user_interface_and_interaction">用户界面与交互</a>
            </li>
          
            <li class="level-3">
              <a href="/bilingual_guides/cookbook/event_handling_and_data_binding">事件处理和数据绑定</a>
            </li>
          
            <li class="level-3">
              <a href="/bilingual_guides/cookbook/helpers_and_components">助手与组件</a>
            </li>
          
            <li class="level-3">
              <a href="/bilingual_guides/cookbook/working_with_objects">使用对象</a>
            </li>
          </ol></li>
          <li class="level-1">
            <a href="/bilingual_guides/understanding-ember/the-view-layer">理解Ember.js</a>
            <ol>
        
            <li class="level-3">
              <a href="/bilingual_guides/understanding-ember/the-view-layer">视图层</a>
            </li>
          
            <li class="level-3">
              <a href="/bilingual_guides/understanding-ember/managing-asynchrony">管理异步</a>
            </li>
          
            <li class="level-3">
              <a href="/bilingual_guides/understanding-ember/keeping-templates-up-to-date">模板自动更新</a>
            </li>
          
            <li class="level-3">
              <a href="/bilingual_guides/understanding-ember/debugging">调试</a>
            </li>
          
            <li class="level-3">
              <a href="/bilingual_guides/understanding-ember/run-loop">运行循环</a>
            </li>
          </ol></li></ol>
  
          <div id="back-to-top"><a id="back-top-top" href="#">&#11014; 返回顶部</a></div>
        </div>
      
      <div id="content" class="has-sidebar">
          
  

  <div class="chapter">
    
        <h1>单元测试 
          <a href="https://github.com/emberjs-cn/www.emberjs.cn/tree/master/source/guides/testing/unit.md" target="_blank" class="edit-page">
            编辑页面</a>
        </h1>
      
    <p>Unit tests are generally used to test a small piece of code and ensure that it
is doing what was intended. Unlike integration tests, they are narrow in scope
and do not require the Ember application to be running.</p>

<p>单元测试用于测试代码的一个小片段，确保其功能正常。与集成测试不同，单元测试被限定在一个范围内，并且不需要Ember应用运行。</p>
<h3 class='anchorable-toc' id='toc_globals-vs-modules'>Globals vs Modules</h3><h3 class='anchorable-toc' id='toc_vs'>全局 vs 模块</h3>
<p>In the past, it has been difficult to test portions of your Ember application
without loading the entire app as a global. By having your application written
using modules (<a href="http://wiki.commonjs.org/wiki/CommonJS" title="CommonJS">CommonJS</a>, <a href="http://requirejs.org/docs/whyamd.html" title="AMD">AMD</a>, etc), you are able to require just code that 
is to be tested without having to pluck the pieces out of your global 
application.</p>

<p>过去如果没有作为一个全局变量加载整个Ember应用，要对应用进行测试非常困难。通过使用模块（<a href="http://wiki.commonjs.org/wiki/CommonJS" title="CommonJS">CommonJS</a>，<a href="http://requirejs.org/docs/whyamd.html" title="AMD">AMD</a>等）来编写应用，可以只加载被测试的部分，而不用将其从全局的应用中抽出来测试。</p>
<h3 class='anchorable-toc' id='toc_unit-testing-helpers'>Unit Testing Helpers</h3><h3 class='anchorable-toc' id='toc_'>单元测试助手</h3>
<p><a href="https://github.com/rpflorence/ember-qunit" title="Ember QUnit">Ember-QUnit</a> is the default <em>unit</em> testing helper suite for Ember. It can and
should be used as a template for other test framework helpers. It uses your
application&#39;s resolver to find and automatically create test subjects for you
using the <code>moduleFor</code> and <code>test</code> helpers.</p>

<p><a href="https://github.com/rpflorence/ember-qunit" title="Ember QUnit">Ember-QUnit</a>是Ember的缺省的<em>单元</em>测试助手套件。其可以作为其他测试框架助手的样板来使用。<a href="https://github.com/rpflorence/ember-qunit" title="Ember QUnit">Ember-QUnit</a>使用应用的<code>resolver</code>来查找并使用<code>moduleFor</code>和<code>test</code>助手自动创建被测主体。</p>

<p>A test subject is simply an instance of the object that a particular test is 
making assertions about. Usually test subjects are manually created by the 
writer of the test.</p>

<p>测试主体是一个特定测试将围绕其进行断言的一个简单对象的实例。通常测试主体有测试者手动创建。</p>

<!--
* [Ember-QUnit](https://github.com/rpflorence/ember-qunit) - Unit test helpers
  written for QUnit
* [Ember-Mocha](#) - Unit test helpers written for Mocha (to be written)
* [Ember-Jasmine](#) - Unit test helpers written for Jasmine (to be written)
-->

<p><strong><em>The unit testing section of this guide will use the Ember-QUnit library, but
the concepts and examples should translate easily to other frameworks.</em></strong></p>

<p><strong><em>本指南中的单元测试将采用<code>Ember-QUnit</code>来完成，不过其中的概念和例子可以非常容易的迁移至其他的框架。</em></strong></p>
<h3 class='anchorable-toc' id='toc_available-helpers'>Available Helpers</h3><h3 class='anchorable-toc' id='toc_'>可用的助手</h3>
<p>By including <a href="https://github.com/rpflorence/ember-qunit" title="Ember QUnit">Ember-QUnit</a>, you will have access to a number of test helpers.</p>

<p>通过加入<a href="https://github.com/rpflorence/ember-qunit" title="Ember QUnit">Ember-QUnit</a>，可以获取一系列测试助手。</p>

<ul>
<li><p><code>moduleFor(fullName [, description [, callbacks]])</code></p>

<ul>
<li><strong>fullName</strong>: The full name of the unit, (ie. <code>controller:application</code>,
<code>route:index</code>, etc.)</li>
<li><strong>description</strong>: the description of the module</li>
<li><strong>callbacks</strong>: normal QUnit callbacks (setup and teardown), with addition to
needs, which allows you specify the other units the tests will need.</li>
<li><strong>fullName</strong>: 单元测试全名。（例如：<code>controller:application</code>，<code>route:index</code>等。）</li>
<li><strong>description</strong>: 模块描述。</li>
<li><strong>callbacks</strong>: 完成附加需求的QUnit回调（<code>setup</code>和<code>teardown</code>），可以通过回调来指定测试需要的其他单元）。</li>
</ul></li>
<li><p><code>moduleForComponent(name [, description [, callbacks]])</code></p>

<ul>
<li><strong>name</strong>: the short name of the component that you&#39;d use in a template, (ie.
<code>x-foo</code>, <code>ic-tabs</code>, etc.)</li>
<li><strong>description</strong>: the description of the module</li>
<li><strong>callbacks</strong>: normal QUnit callbacks (setup and teardown), with addition to
needs, which allows you specify the other units the tests will need.</li>
<li><strong>name</strong>: 将被用于模板中得简短组件名。（例如：<code>x-foo</code>，<code>ic-tabs</code>等等。）</li>
<li><strong>description</strong>: 模块描述。</li>
<li><strong>callbacks</strong>: 完成附加需求的QUnit回调（<code>setup</code>和<code>teardown</code>），可以通过回调来指定测试需要的其他单元）。</li>
</ul></li>
<li><p><code>moduleForModel(fullName [, description [, callbacks]])</code></p>

<ul>
<li><strong>name</strong>: the short name of the model you&#39;d use in store
operations (ie. <code>user</code>, <code>assignmentGroup</code>, etc.)</li>
<li><strong>description</strong>: the description of the module</li>
<li><strong>callbacks</strong>: normal QUnit callbacks (setup and teardown), with addition to
needs, which allows you specify the other units the tests will need.</li>
<li><strong>name</strong>: 在<code>store</code>操作中将使用的简短模型名。（例如：<code>user</code>，<code>assignmentGroup</code>等。）</li>
<li><strong>description</strong>: 模块描述。</li>
<li><strong>callbacks</strong>: 完成附加需求的QUnit回调（<code>setup</code>和<code>teardown</code>），可以通过回调来指定测试需要的其他单元）。</li>
</ul></li>
<li><p><code>test</code></p>

<ul>
<li>Same as QUnit <code>test</code> except it includes the <code>subject</code> function which is used
to create the test subject.</li>
<li>与QUnit的<code>test</code>期望一样，其包含了用来创建测试主体的<code>subject</code>函数。
to create the test subject.</li>
</ul></li>
<li><p><code>setResolver</code></p>

<ul>
<li>Sets the resolver which will be used to lookup objects from the application
container.</li>
</ul></li>
<li><p>设置用来从应用容器中查找对象的<code>resolver</code>。</p></li>
</ul>
<h3 class='anchorable-toc' id='toc_unit-testing-setup'>Unit Testing Setup</h3><h3 class='anchorable-toc' id='toc_'>设置单元测试</h3>
<p>In order to unit test your Ember application, you need to let Ember know it is in
test mode. To do so, you must call <code>Ember.setupForTesting()</code>.</p>

<p>为了对Ember应用进行单元测试，首先需要让Ember知道其在测试模式。为实现这个目的，需要调用<code>Ember.setupForTesting()</code>。</p>
<div class="highlight javascript "><div class="ribbon"></div><div class="scroller"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
</pre></td>
  <td class="code"><pre>Ember.setupForTesting();
</pre></td>
</tr></table>
</div></div>
<p>The <code>setupForTesting()</code> function call makes ember turn off its automatic run
loop execution. This gives us an ability to control the flow of the run loop
ourselves, to a degree. Its default behaviour of resolving all promises and
completing all async behaviour are suspended to give you a chance to set up
state and make assertions in a known state. In other words, you know that if you
run &quot;visit&quot; to get to a particular URL, you can be sure the URL has been visited
and that&#39;s the only behaviour that has transpired. If we didn&#39;t use this mode,
our assertions would most likely be executed before the async behaviour had taken place, so
our assertion results would be unpredictable.</p>

<p><code>setupForTesting()</code>函数的调用通知Ember关闭了其自动运行循环的执行。这样使得可以能够自己一定程度上控制运行循环流程。缺省的履行所有承诺和完成所有异步行为的行为被暂停，使得可以在一个已知的状态来作出断言。换句话说，如果已知运行<code>visit</code>到一个特定的URL，就可以肯定URL被访问并且也是唯一发生的行为。如果并没有采用这种方式，那么断言很可能会在异步行为发生之前就被执行了，以至于断言结果并不是可预知。</p>

<p>With a module-based application, you have access to the unit test helpers simply
by requiring the exports of the module. However, if you are testing a global
Ember application, you are still able to use the unit test helpers. Instead of
importing the <code>ember-qunit</code> module, you need to make the unit test helpers
global with <code>emq.globalize()</code>:</p>

<p>在一个基于模块的应用里，可以通过请求模块的导出来访问单元测试助手。然而，如果在测试一个全局的Ember应用，一样可以使用单元测试助手。作为导入<code>ember-qunit</code>模块的替代方案，需要通过<code>emq.globalize()</code>来使得单元测试变成全局的。</p>
<div class="highlight javascript "><div class="ribbon"></div><div class="scroller"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
</pre></td>
  <td class="code"><pre>emq.globalize();
</pre></td>
</tr></table>
</div></div>
<p>This will make the above helpers available globally.</p>

<p>这就使得上述的助手变成了全局可用。</p>
<h3 class='anchorable-toc' id='toc_the-resolver'>The Resolver</h3><h3 class='anchorable-toc' id='toc_'>解析器</h3>
<p>The Ember resolver plays a huge role when unit testing your application. It
provides the lookup functionality based on name, such as <code>route:index</code> or
<code>model:post</code>.</p>

<p>Ember解析器在对应用进行单元测试的时候扮演了一个非常重要的角色。其提供了一个基于名字查找的功能，例如<code>route:index</code>或者<code>model:post</code>。</p>

<p>If you do not have a custom resolver or are testing a global Ember application,
the resolver should be set like this:</p>

<p>如果没有一个自定义的解析器，或者测试一个全局的Ember应用，解析器应该进行如下的设置：</p>

<p><strong><em>Make sure to replace &quot;App&quot; with your application&#39;s namespace in the following line</em></strong></p>

<p><strong><em>确定使用应用的命名空间来替代下面一行代码中得<code>App</code></em></strong></p>
<div class="highlight javascript "><div class="ribbon"></div><div class="scroller"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
</pre></td>
  <td class="code"><pre>setResolver(Ember.DefaultResolver.create({ <span class="key">namespace</span>: App })
</pre></td>
</tr></table>
</div></div>
<p>Otherwise, you would require the custom resolver and pass it to <code>setResolver</code>
like this <em>(ES6 example)</em>:</p>

<p>否则，需要获取自定义解析器，并将其传递给<code>setResolver</code>，就如<em>（ES6示例）</em>中一般：</p>
<div class="highlight javascript "><div class="ribbon"></div><div class="scroller"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
</pre></td>
  <td class="code"><pre><span class="reserved">import</span> Resolver from <span class="string"><span class="delimiter">'</span><span class="content">./path/to/resolver</span><span class="delimiter">'</span></span>;
<span class="reserved">import</span> { setResolver } from <span class="string"><span class="delimiter">'</span><span class="content">ember-qunit</span><span class="delimiter">'</span></span>;
setResolver(Resolver.create());
</pre></td>
</tr></table>
</div></div>
    
      <footer>
        
          <a class="previous-guide" href="/bilingual_guides/testing/testing-user-interaction">
            ← 测试用户交互
          </a>
         
        <a class="next-guide" href="/bilingual_guides/testing/unit-testing-basics">
          单元测试基础 →
        </a>
      
      </footer>
      
  </div>

      </div>
    </div>

    <div id="footer">
      <div id="footer-wrapper">
        <div class="info">&copy; 2014 Emberjs.CN <br/>Design by <a href="http://www.heropixel.com">HeroPixel</a></div>
        <div class="statement"><b>声明：</b>本站的文章可以随意在网上转载，但必须注明原文出处！</div>
        <div class="links">
          <a href="http://weibo.com/embercn"><img src="/images/weibo.png"/></a>
          <a href="http://emberjs.cn/blog/feed.xml"><img src="/images/feed.png"/></a>
        </div>
      </div>
    </div>

<!--[if lt IE 9]>
    <script type="text/javascript" src="/javascripts/common-old-ie.js"></script>
<![endif]-->
<!--[if gte IE 9]><!-->
    <script type="text/javascript" src="/javascripts/common-modern.js"></script>
<!--<![endif]-->

    
    <script type="text/javascript" src="/javascripts/guides.js"></script>
  

    <script type="text/javascript">
      var _gaq = _gaq || [];
      var pluginUrl = '//www.google-analytics.com/plugins/ga/inpage_linkid.js';
      _gaq.push(['_require', 'inpage_linkid', pluginUrl]);
      _gaq.push(['_setAccount', 'UA-38578402-1']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
    </script>

    <script type="text/javascript">
      var _bdhmProtocol = (("https:" == document.location.protocol) ? " https://" : " http://");
      document.write(unescape("%3Cscript src='" + _bdhmProtocol + "hm.baidu.com/h.js%3F0b0fcec01b06cc76e274f7b21f4766c4' type='text/javascript'%3E%3C/script%3E"));

      $(function() {
        $('a[href="http://tongji.baidu.com/hm-web/welcome/ico?s=0b0fcec01b06cc76e274f7b21f4766c4"]').hide();
      });
    </script>

  </body>
</html>
